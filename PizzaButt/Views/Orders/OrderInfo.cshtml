
@{
    ViewData["Title"] = "OrderInfo";
}
@model OrderModel

<div class="order-status">
    <h1 style="margin: 30px 0; text-align: center;">Order Status</h1>

    <table class="table" style="width: 80%; margin: auto;">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Order</th>
            <th scope="col">Toppings</th>
            @if (Model.Size != null)
            {
            <th scope="col">Size</th>
            }
            <th scope="col">Quantity</th>
            <th scope="col">Special Instructions</th>
            <th scope="col">Order Time</th>
@*            <th scope="col">Complete Time</th>*@
            <th scope="col">Status</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    <tr>
        <td>
            @Model.Name
        </td>
        <td>
            @Model.Order
        </td>
        <td>
            @{ var last = Model.Toppings.Last();}
            @foreach (var topping in Model.Toppings)
            {
                if (topping == last)
                {
                    <Text>@topping</Text>
                }
                else
                {
                    <Text>@topping, </Text>
                }
            }
        </td>
        @if (Model.Size != null)
        {
            <td>
                @Model.Size
            </td>
        }
        <td>
            @Model.Quantity.ToString()
        </td>
        <td>
            @Model.SpecialInstructions
        </td>
        <td>
            @Model.CreateTime.ToLocalTime()
        </td>
@*        <td>*@
@*            @{*@
@*                var ogTime = "0005-12-31 18:00:00.000";*@
@*                var checkTime = DateTime.Parse(ogTime);*@
@*            }*@
@*            @if (Model.CompleteTime >*@
@*                 checkTime)*@
@*            {*@
@*                @Model.CompleteTime.ToLocalTime()*@
@*            }*@
@*        </td>*@
        <td>
            @Model.Status
        </td>
        <td>
            <button type="button" class="btn btn-warning" onclick="location.href = '@Url.Action("Cancel", "Orders", new {orderId = Model.Id.ToString()})'">Cancel Order</button>
        </td>
    </tr>
    </tbody>
</table>
</div>
