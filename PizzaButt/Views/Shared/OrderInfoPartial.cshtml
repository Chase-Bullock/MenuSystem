
@{
    ViewData["Title"] = "OrderInfo";
}
@model OrderViewModel

    <table class="table" style="width: 80%; margin: auto; table-layout: fixed;">
            <tr style="border-bottom:double">
                <th scope="col">Name</th>
                <td>@Model.Name</td>
                <th scope="col">Order Time</th>
                <td>@Model.CreateTime.ToLocalTime()</td>
            </tr>
            <tr>
                <th scope="col">Order</th>
                <th scope="col">Toppings</th>
                <th scope="col">Size</th>
                <th scope="col">Quantity</th>

            </tr>
                @foreach (var item in Model.OrderItems)
                {
                <tr>

                    <td colspan="1">
                        @item.MenuItem.Name
                    </td>
                    <td colspan="1" style="word-wrap:normal">
                        @if (item.OrderItemTopping != null)
                        {
                            var last = item.OrderItemTopping.Last();
                            foreach (var topping in item.OrderItemTopping)
                            {
                                if (topping == last)
                                {
                                    <Text>@topping.Topping.ToppingName</Text>
                                }
                                else
                                {
                                    <Text>@topping.Topping.ToppingName, </Text>
                                }
                            }
                        }
                    </td>
                    @if (item.Size != null)
                    {
                        <td colspan="1">
                            @item.Size.MainValue
                        </td>
                    } else
                    {
                        <td colspan="1">N/A</td>
                    }
                    <td colspan="1">
                        @item.Quantity.ToString()
                    </td>

                </tr>
            }
                <tr style="border-top:double">
                  
                    <th scope="col">Complete Time</th>
                    <td>
                        @if(Model.CompleteTime.ToLocalTime() > Model.CreateTime)
                        {
                            Model.CompleteTime.ToLocalTime();
                        } else
                        {
                            <div>N/A</div>
                        }
                    </td>
                    <th scope="col">Status</th>
                    <td>
                        @Model.Status
                    </td>
                </tr>
                <tr>
                    <th>Special Instructions</th>
                    <td colspan="2" style="word-wrap:break-word">
                        sdflkasjfldksajflksjdflksdjfsdflkasjfldksajflksjdflksdjfsdflkasjfldksajflksjdflksdjfsdflkasjfldksajflksjdflksdjf
                    </td>
                    <td colspan="1">
                        <button type="button" class="btn btn-warning" typeof="submit" onclick="location.href = '@Url.Action("Cancel", "Orders", new { orderId = Model.Id })'">Cancel Order</button>
                    </td>
                </tr>
        </table>
<script src="~/lib/signalr/signalr.js"></script>
<script src="~/js/status.js"></script>
